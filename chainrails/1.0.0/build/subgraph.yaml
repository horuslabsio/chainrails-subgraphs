specVersion: 0.0.4
description: Chainrails subgraph for monitoring intent funding
repository: https://github.com/horuslabsio/chainrails-subgraphs.git
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: IntentFactory
    network: base-sepolia
    source:
      address: "0x2f762c93cEFB559c53176788ba696C5604f6ED46"
      abi: IntentFactory
      startBlock: 32160608
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Intent
      abis:
        - name: IntentFactory
          file: IntentFactory/abis/intent_factory.json
      eventHandlers:
        - event: IntentDeclared(indexed
            address,(uint8,uint8,(address,uint256)[],bytes32,address,address,address,uint256,uint256,bool),indexed
            address)
          handler: handleIntentDeclared
      file: IntentFactory/IntentFactory.wasm
  - kind: ethereum/contract
    name: Chainrails
    network: base-sepolia
    source:
      address: "0x7Daa607443cb576393C46e8763596d9679aD2A5E"
      abi: Chainrails
      startBlock: 32160608
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Intent
      abis:
        - name: Chainrails
          file: Chainrails/abis/chainrails.json
      eventHandlers:
        - event: IntentStarted(indexed
            address,(uint8,uint8,(address,uint256)[],bytes32,address,address,address,uint256,uint256,bool))
          handler: handleIntentStarted
      file: Chainrails/Chainrails.wasm
  - kind: ethereum/contract
    name: USDC
    network: base-sepolia
    source:
      address: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
      abi: ERC20
      startBlock: 32160608
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Intent
        - FundingTransaction
      abis:
        - name: ERC20
          file: USDC/abis/erc20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleUSDCTransfer
      file: USDC/USDC.wasm
