specVersion: 0.0.4
description: Chainrails subgraph for monitoring intent funding
repository: https://github.com/horuslabsio/chainrails-subgraphs.git
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: IntentFactory
    network: base-sepolia
    source:
      address: "0x0727F1cC44a938F45390e858300b0AE759fF4564"
      abi: IntentFactory
      startBlock: 31833456
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Intent
      abis:
        - name: IntentFactory
          file: IntentFactory/abis/intent_factory.json
      eventHandlers:
        - event: IntentCreated(indexed
            address,(uint8,uint8,(address,uint256)[],bytes,address,address,address,uint256,uint256),indexed
            address)
          handler: handleIntentCreated
      file: IntentFactory/IntentFactory.wasm
  - kind: ethereum/contract
    name: Chainrails
    network: base-sepolia
    source:
      address: "0xE2a387833C388e6F9F1892B27A991AdcD526Bd72"
      abi: Chainrails
      startBlock: 31833456
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Intent
      abis:
        - name: Chainrails
          file: Chainrails/abis/chainrails.json
      eventHandlers:
        - event: IntentStarted(indexed
            address,(uint8,uint8,(address,uint256)[],bytes,address,address,address,uint256,uint256))
          handler: handleIntentStarted
      file: Chainrails/Chainrails.wasm
  - kind: ethereum/contract
    name: USDC
    network: base-sepolia
    source:
      address: "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
      abi: ERC20
      startBlock: 31833456
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - Intent
        - FundingTransaction
      abis:
        - name: ERC20
          file: USDC/abis/erc20.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleUSDCTransfer
      file: USDC/USDC.wasm
